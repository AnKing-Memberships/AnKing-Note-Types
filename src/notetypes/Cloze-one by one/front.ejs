<div id="text">{{cloze:Text}}</div>


<br>

<!-- ##############  Text-to-speech  ##############
replace the arrows/dashes from the statement below with double curly brackets-->

<!--tts en_US voices=Apple_Samantha speed=1.4:cloze:Text-->


<script>
    // ############## USER CONFIGURATION START ##############
    var autoflip = false // auto flip to back if cloze has no hints. Does not work for AnkiMobile.

    // Timer config (timer length, timer finished message)
    var minutes = 0
    var seconds = 9
    var timeOverMsg = "<span style='color:#CC5B5B'>!<br/>!<br/>!<br/>!<br/>!<br/>!</span>"

    // ~~~~~~~~~~~~~  TAG SHORTCUT  ~~~~~~~~~~~~~
    var toggleTagsShortcut = "C";

    //ENTER THE TAG TERM WHICH, WHEN PRESENT, WILL TRIGGER A RED BACKGROUND
    var tagID = "XXXYYYZZZ"

    // ############## USER CONFIGURATION END ##############
</script>


<script>
/*
var clozeOneByOneEnabled = true;
try {
    clozeOneByOneEnabled = `{ {One by one} }` === ""
} catch (exception) {
  console.log(exception)
}
*/
var clozeOneByOneEnabled = true 

// AUTO-FLIP if cloze has hint
if(clozeOneByOneEnabled && autoflip) {
    // avoid flickering
    document.getElementById("qa").style.display = "none";
    window.clozeHints = [];

    // Check if a cloze has hint
    let clozes = document.getElementsByClassName("cloze")
    for(var i = 0; i < clozes.length; i++) {
        if (clozes[i].innerHTML === "[...]") {
            window.clozeHints.push("")
        } else {
            window.clozeHints.push(clozes[i].innerHTML)
        }
    }

    if (window.pycmd) {
        pycmd("ans")
    } else if (window.showAnswer) {
        showAnswer()
    }    
    // AnkiMobile JS API doesn't have one for show answer. 
    // Best alternative is to use Taps/Swipes to show answer.

} else {
    delete window.clozeHints
}
</script>


<!-- COUNTDOWN TIMER -->
<div class="timer" id="s2"></div>
<script>
function countdown(elementName, minutes, seconds) {
    var element, endTime, mins, msLeft, time;
    function twoDigits( n ) {
        return (n <= 9 ? "0" + n : n); 
    }
    function updateTimer() {
        msLeft = endTime - (+new Date);

        if ( msLeft < 1000 ) {
            element.innerHTML = timeOverMsg;
        } else {
            time = new Date( msLeft );
            mins = time.getUTCMinutes();
            element.innerHTML = mins + ':' + twoDigits(time.getUTCSeconds());
            setTimeout( updateTimer, time.getUTCMilliseconds() + 500 );
        }
    }
    element = document.getElementById(elementName);
    endTime = (+new Date) + 1000 * (60*minutes + seconds) + 500;
    updateTimer();
}
countdown("s2", minutes, seconds ); //2nd value is the minute, 3rd is the seconds
</script>


<!-- ANKING HYPERLINK IMAGE -->
<a href="https://www.ankingmed.com"><img src="_AnKingRound.png" alt="The AnKing" id="pic"></a>


<script>
    //DONT FADE BETWEEN CARDS
	qFade=0; if (typeof anki !== 'undefined') anki.qFade=qFade;
</script>

<%- include('src/components/ankingAddEventListener.ejs') %>

<%- include('src/components/shortcutMatcher.ejs') %>

<%- include('src/components/colorfulTags.ejs') %>