<%# 

# Components
components/ankingAddEventListener
components/shortcutMatcher

# Global Variables
- toggleTagsShortcut: string
- tagID: string

_%> 
<!-- CLICKABLE COLORFUL TAGS -->
{{#Tags}}
<div id="tags-container">{{clickable::Tags}}</div>
<script>
(function(){
  const tagContainer = document.getElementById("tags-container")
  if (tagContainer.childElementCount == 0) {
    const tagList = tagContainer.innerHTML.split(" ");
    const newTagContent = document.createElement("div");

    for (let i = 0; i < tagList.length; i++) {
      const newTag = document.createElement("kbd");
      newTag.innerHTML = tagList[i];
      newTagContent.append(newTag)
    }
    tagContainer.innerHTML = newTagContent.innerHTML;
    tagContainer.style.cursor = "default";
  }
  if (tagContainer.innerHTML.indexOf(tagID) != -1) {
    tagContainer.style.backgroundColor = "rgba(251,11,11,.15)";
  }

  function showtags() {
    const tagContainer = document.getElementById("tags-container");

    if (tagContainer.style.display === "none") {
      tagContainer.style.display = "block";
    } else {
      tagContainer.style.display = "none";
    }
  }
  
  var isShortcut = shortcutMatcher(toggleTagsShortcut)
  ankingAddEventListener('keyup', function (e) {
      if (isShortcut(e)) {
          showtags();
      }
  });
})()
</script>
{{/Tags}}